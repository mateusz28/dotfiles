#!/bin/bash
#add to $HOME/notes/.nvimrc:
#autocmd BufWritePost * :!git add . && git commit -m 'autocommit' && git pull origin main && git push origin main
mkdir -p $HOME/notes/
cd $HOME/notes/
git pull origin main
[ $# -gt 0 ] && SUFFIX="_$1" || SUFFIX=""
NOTES_NAME=$(date +notes_%Y-%m-%d_${HOSTNAME}${SUFFIX}.md)
nvim --cmd "cd $HOME/notes" $HOME/notes/$NOTES_NAME
git add .
git commit -m "Update ${NOTES_NAME}"
git push origin main
