#!/bin/bash
#add to $HOME/notes/.nvimrc:
#autocmd BufWrite * :!rclone copy $HOME/notes/ notes:
mkdir -p $HOME/notes/
#rclone copy notes: $HOME/notes
cd $HOME/notes/
git pull origin main
[ $# -gt 0 ] && SUFFIX="_$1" || SUFFIX=""
NOTES_NAME=$(date +notes_%Y-%m-%d_${HOSTNAME}${SUFFIX}.md)
nvim --cmd "cd $HOME/notes" $HOME/notes/$NOTES_NAME
git add .
git commit -m "Update"
git push origin main
